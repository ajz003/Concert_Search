<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script
  src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  crossorigin="anonymous"></script>
</head>

<body>

<form>

Username:
<input type="text" id="username"><br>
Password:
<input type="text" id="password"><br>
<input type="submit" id="login" value="Log In">
<input type="submit" id="register" value="Register">



</form>


    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-firestore.js"></script>

    <script>

        firebase.initializeApp({
            apiKey: 'AIzaSyBuWcwfnrVFPyABm96d6GIoHwwBXa_DAfk',
            authDomain: 'iconcert-638ff.firebaseapp.com',
            projectId: 'iconcert-638ff'
        });

        // Initialize Cloud Firestore through Firebase
        var db = firebase.firestore();

        // Disable deprecated features
        db.settings({
            timestampsInSnapshots: true
        });





$(document).on("click", "#login", function(event) {

    event.preventDefault();

    var inputUsername =$("#username").val()
    var inputPassword = $("#password").val()
var docRef = db.collection("users").doc("ajz003");

console.log(db.collection("users").doc(inputUsername))


docRef.get().then(function(doc) {

    var userPassword = doc.data().password

    console.log(userPassword)



    if (doc.exists && inputPassword === userPassword) {
        alert("Logged in!")
    } else {
        // doc.data() will be undefined in this case
        alert("Incorrect username/password");
    }


});

});

$(document).on("click", "#register", function(event){


event.preventDefault();

var inputUsername =$("#username").val()
var inputPassword = $("#password").val()

var docRef = db.collection("users")

var usersRef = db.collection("users").doc(inputUsername);


usersRef.get().then(function(doc) {
    if (doc.exists) {
        alert("Username already exists!");

    } else {
        alert("New User Created!")

        docRef.doc(inputUsername).set({
    password: inputPassword,
    username: inputUsername


})
    }
})











});




var docRef = db.collection("users").doc()













    </script>





</body>

</html>